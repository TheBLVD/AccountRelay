:concurrency: <%= ENV.fetch('SIDEKIQ_CONCURRENCY', 5) %>

:max_retries: 1

:queues:
  - [default, 8]
  - [pull]
  - [scheduler]

:scheduler:
  :listened_queues_only: true
:schedule:
  scheduled_statuses_scheduler:
    every: <%= ENV.fetch('UPDATE_ACCOUNT_STATUSES', "30m") %>
    class: Scheduler::UpdateAccountStatusesScheduler
    queue: scheduler
  user_statuses_scheduler:
    every: <%= ENV.fetch('USER_STATUSES', "30m") %>
    class: Scheduler::UpdateUserStatusesScheduler
    queue: scheduler

production:
  :concurrency: 5
